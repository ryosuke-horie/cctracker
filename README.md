# cctracker

Claude Code Rate Limit Tracker - Real-time monitoring tool for Claude AI token usage

## æ¦‚è¦

cctrackerã¯ã€Claude AIã®ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–ã—ã€Rate Limitã‚’äºˆæ¸¬ã™ã‚‹CLIãƒ„ãƒ¼ãƒ«ã§ã™ã€‚5æ™‚é–“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã®ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»ã‚’è¿½è·¡ã—ã€åˆ¶é™ã«é”ã™ã‚‹å‰ã«è­¦å‘Šã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

## ç‰¹å¾´

- ğŸ“Š **ã‚¯ã‚¤ãƒƒã‚¯ç¢ºèª** - ç¾åœ¨ã®ä½¿ç”¨çŠ¶æ³ã‚’å³åº§ã«è¡¨ç¤ºã—ã¦çµ‚äº†ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œï¼‰
- ğŸ”„ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–** - watchãƒ¢ãƒ¼ãƒ‰ã§3ç§’ã”ã¨ã«ä½¿ç”¨çŠ¶æ³ã‚’ç¶™ç¶šæ›´æ–°
- ğŸ“Š **è¦–è¦šçš„ãªãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼** - ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨ç‡ã‚’è‰²åˆ†ã‘ã—ã¦è¡¨ç¤º
- ğŸ”® **ã‚¹ãƒãƒ¼ãƒˆäºˆæ¸¬** - ç¾åœ¨ã®æ¶ˆè²»é€Ÿåº¦ã‹ã‚‰æ¯æ¸‡æ™‚åˆ»ã‚’äºˆæ¸¬
- ğŸ¤– **è‡ªå‹•ãƒ—ãƒ©ãƒ³æ¤œå‡º** - éå»ã®ä½¿ç”¨å±¥æ­´ã‹ã‚‰åˆ©ç”¨ä¸­ã®ãƒ—ãƒ©ãƒ³ã‚’è‡ªå‹•åˆ¤å®š
- ğŸ“‹ **è¤‡æ•°ãƒ—ãƒ©ãƒ³å¯¾å¿œ** - Proã€Max5ã€Max20ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ©ãƒ³ã«å¯¾å¿œ
- ğŸ¯ **åˆ¶é™è¶…éæ™‚ã®è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ** - Proåˆ¶é™ã‚’è¶…ãˆãŸå ´åˆã€è‡ªå‹•çš„ã«ã‚«ã‚¹ã‚¿ãƒ åˆ¶é™ã«é©å¿œ
- ğŸŒ **æ—¥æœ¬èªè¡¨ç¤ºå¯¾å¿œ** - `--ja`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ—¥æœ¬èªã§è¡¨ç¤º

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### npxã§å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

```bash
npx cctracker
```

### ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install -g cctracker
cctracker
```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
git clone https://github.com/yourusername/cctracker.git
cd cctracker
npm install

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm run dev

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¸¡ã™ï¼ˆ-- ã‚’ä½¿ç”¨ã—ã¦npmã¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’åŒºåˆ‡ã‚‹ï¼‰
npm run dev -- --ja
npm run dev -- watch --ja
npm run dev -- info --ja

# ã¾ãŸã¯ç›´æ¥å®Ÿè¡Œ
npx tsx src/cli.ts --ja
npx tsx src/cli.ts watch --ja
```

## ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```bash
# ç¾åœ¨ã®ä½¿ç”¨çŠ¶æ³ã‚’ç¢ºèªï¼ˆå˜ç™ºå®Ÿè¡Œã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
npx cctracker

# æ—¥æœ¬èªã§è¡¨ç¤º
npx cctracker --ja

# ç¶™ç¶šçš„ã«ç›£è¦–ï¼ˆwatchãƒ¢ãƒ¼ãƒ‰ï¼‰
npx cctracker watch

# watchãƒ¢ãƒ¼ãƒ‰ã§æ—¥æœ¬èªè¡¨ç¤º
npx cctracker watch --ja

# watchãƒ¢ãƒ¼ãƒ‰ã§æ‰‹å‹•ãƒ—ãƒ©ãƒ³ã‚’æŒ‡å®š
npx cctracker watch --plan max5

# watchãƒ¢ãƒ¼ãƒ‰ã§ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥é–“éš”ã‚’å¤‰æ›´ï¼ˆç§’å˜ä½ï¼‰
npx cctracker watch --refresh 5

# è‡ªå‹•æ¤œå‡ºã‚’ç„¡åŠ¹åŒ–ã—ã¦Proãƒ—ãƒ©ãƒ³ã§ç¢ºèª
npx cctracker --plan pro --no-auto-detect

# ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ã‚’æŒ‡å®š
npx cctracker --data-path /path/to/claude/data

# ä½¿ç”¨çŠ¶æ³ã®è©³ç´°æƒ…å ±ã‚’ç¢ºèª
npx cctracker info

# è©³ç´°æƒ…å ±ã‚’æ—¥æœ¬èªã§ç¢ºèª
npx cctracker info --ja
```

### ãƒ—ãƒ©ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³

| ãƒ—ãƒ©ãƒ³ | ãƒˆãƒ¼ã‚¯ãƒ³åˆ¶é™ | èª¬æ˜ |
|--------|------------|------|
| `auto` | è‡ªå‹•åˆ¤å®š | éå»ã®ä½¿ç”¨å±¥æ­´ã‹ã‚‰æœ€é©ãªãƒ—ãƒ©ãƒ³ã‚’è‡ªå‹•é¸æŠï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ |
| `pro` | ~7,000 | Claude Pro |
| `max5` | ~35,000 | Claude Max5 |
| `max20` | ~140,000 | Claude Max20 |
| `custom_max` | è‡ªå‹•æ¤œå‡º | éå»ã®æœ€å¤§ä½¿ç”¨é‡ã‹ã‚‰è‡ªå‹•è¨­å®š |

### è¨­å®šæƒ…å ±ã®ç¢ºèª

```bash
# Claudeã®ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ã‚’ç¢ºèª
npx cctracker info
```

## ç’°å¢ƒå¤‰æ•°

```bash
# ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ã‚’è¨­å®š
export CLAUDE_DATA_PATH=/path/to/claude/projects

# è¤‡æ•°ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šï¼ˆã‚³ãƒ­ãƒ³ã¾ãŸã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
export CLAUDE_DATA_PATHS=/path1:/path2:/path3
```

## ãƒˆãƒ¼ã‚¯ãƒ³è¨ˆç®—ã®ä»•çµ„ã¿

cctrackerã¯ã€ãƒ¢ãƒ‡ãƒ«ã«å¿œã˜ã¦ç‰¹æ®Šãªé‡ã¿ä»˜ã‘ã‚’è¡Œã„ã¾ã™ï¼š

- **Opusãƒ¢ãƒ‡ãƒ«**: å®Ÿéš›ã®ãƒˆãƒ¼ã‚¯ãƒ³æ•° Ã— 5
- **Sonnetãƒ¢ãƒ‡ãƒ«**: å®Ÿéš›ã®ãƒˆãƒ¼ã‚¯ãƒ³æ•° Ã— 1
- **ãã®ä»–**: å®Ÿéš›ã®ãƒˆãƒ¼ã‚¯ãƒ³æ•° Ã— 1

ã“ã®é‡ã¿ä»˜ã‘ã«ã‚ˆã‚Šã€ãƒ—ãƒ©ãƒ³ã®åˆ¶é™å€¤ã¨é©åˆ‡ã«æ¯”è¼ƒã§ãã¾ã™ã€‚

## é–‹ç™º

```bash
# ãƒ“ãƒ«ãƒ‰
npm run build

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm run dev

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãå®Ÿè¡Œ
npm run dev -- --ja
npm run dev -- watch --plan max5

# å‹ãƒã‚§ãƒƒã‚¯
npm run typecheck

# Biomeã§ãƒªãƒ³ãƒˆãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
npm run check
npm run check:fix

# ãƒ†ã‚¹ãƒˆ
npm run test
npm run test:run  # å˜ç™ºå®Ÿè¡Œ
npm run test:coverage  # ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã

# å…¨ãƒã‚§ãƒƒã‚¯ï¼ˆCIç›¸å½“ï¼‰
npm run typecheck && npm run check && npm run build && npm run test:run
```

### é–‹ç™ºæ™‚ã®æ³¨æ„ç‚¹

- ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’`npm run dev`ã«æ¸¡ã™å ´åˆã¯`--`ã§åŒºåˆ‡ã‚‹ï¼š`npm run dev -- --ja`
- ã¾ãŸã¯ç›´æ¥å®Ÿè¡Œã™ã‚‹ï¼š`npx tsx src/cli.ts --ja`
- Pre-pushãƒ•ãƒƒã‚¯ã§è‡ªå‹•çš„ã«lintãƒ»testãƒ»typecheckãŒå®Ÿè¡Œã•ã‚Œã¾ã™

## è¦ä»¶

- Node.js 18.0.0 ä»¥ä¸Š
- Claude CodeãŒå®Ÿè¡Œã•ã‚Œã€ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ‡ãƒ¼ã‚¿ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### "No active session found" ã‚¨ãƒ©ãƒ¼

1. Claude Codeã‚’èµ·å‹•ã—ã¦ã€å°‘ãªãã¨ã‚‚2ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¦ãã ã•ã„
2. ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ã‚’æŒ‡å®šã—ã¦ã¿ã¦ãã ã•ã„ï¼š
   ```bash
   npx cctracker --data-path ~/.config/claude/projects
   ```

### ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# åˆ©ç”¨å¯èƒ½ãªãƒ‘ã‚¹ã‚’ç¢ºèª
npx cctracker info
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## è²¢çŒ®

Issues and Pull Requests are welcome!

## ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[Claude Code Usage Monitor](https://github.com/Maciek-roboblog/Claude-Code-Usage-Monitor)ã«ã‚¤ãƒ³ã‚¹ãƒ‘ã‚¤ã‚¢ã•ã‚Œã¦ã„ã¾ã™ã€‚